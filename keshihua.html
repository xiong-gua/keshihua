<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>年轻人婚育数据可视化</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/echarts@5.4.3/dist/echarts.min.js"></script>
    
    <!-- 配置Tailwind自定义主题 -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#F8BBD0',
                        secondary: '#BBDEFB',
                        accent: '#C8E6C9',
                        neutral: '#F5F5F5',
                        dark: '#424242'
                    },
                    fontFamily: {
                        sans: ['Inter', 'system-ui', 'sans-serif'],
                    },
                }
            }
        }
    </script>
    
    <style type="text/tailwindcss">
        @layer utilities {
            .content-auto {
                content-visibility: auto;
            }
            .text-shadow {
                text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);
            }
            .card-hover {
                transition: all 0.3s ease;
            }
            .card-hover:hover {
                transform: translateY(-5px);
                box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
            }
            .illustration-bg {
                background-image: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23f8bbd0' fill-opacity='0.15'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
            }
            /* 花瓣特效样式 */
            .petal {
                position: absolute;
                background-size: contain;
                background-repeat: no-repeat;
                pointer-events: none;
                z-index: 50;
                opacity: 0;
            }
            /* 背景图优化 */
            .cover-bg {
                filter: brightness(1.2);
                object-fit: cover;
            }
            /* 文字悬停放大效果 */
            .text-scale {
                transition: transform 0.3s ease;
            }
            .text-scale:hover {
                transform: scale(1.05);
            }
        }
    </style>
</head>
<body class="bg-neutral illustration-bg text-dark">
    <!-- 顶部数据展示区 -->
    <header class="relative overflow-hidden bg-gradient-to-r from-primary/80 to-secondary/80 py-16 md:py-24 px-4">
        <!-- 封面背景图 -->
        <div class="absolute inset-0 overflow-hidden opacity-50">
            <img src="背景图.png" alt="封面背景" class="w-full h-full cover-bg">
        </div>
        
        <div class="container mx-auto relative z-10 flex flex-col md:flex-row items-center justify-between">
            <div class="text-center md:text-left mb-8 md:mb-0">
                <h1 class="text-[clamp(1.8rem,5vw,3rem)] font-bold text-white mb-4 text-shadow">
                    2024年婚育数据
                </h1>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6 max-w-lg mx-auto md:mx-0">
                    <div class="bg-white/90 backdrop-blur-sm rounded-xl p-6 shadow-lg">
                        <p class="text-gray-500 mb-1">结婚登记数</p>
                        <p class="text-3xl font-bold text-primary">610.6 万对</p>
                        <p class="text-sm text-gray-500 mt-2">结婚率约 4.3‰</p>
                    </div>
                    <div class="bg-white/90 backdrop-blur-sm rounded-xl p-6 shadow-lg">
                        <p class="text-gray-500 mb-1">人口出生率</p>
                        <p class="text-3xl font-bold text-secondary">6.77‰</p>
                        <p class="text-sm text-gray-500 mt-2">全年出生 954 万人</p>
                    </div>
                </div>
            </div>
            
            <div class="text-center md:text-right">
                <p class="text-white text-xl md:text-2xl mb-6 text-shadow">你期待婚姻吗？</p>
                <button id="exploreBtn" class="bg-white text-primary hover:bg-primary hover:text-white font-bold py-3 px-8 rounded-full shadow-lg transition-all duration-300 flex items-center justify-center mx-auto md:mx-0">
                    <span>点击查看详情</span>
                    <i class="fa fa-arrow-right ml-2"></i>
                </button>
            </div>
        </div>
        
        <!-- 装饰元素 -->
        <div class="absolute bottom-0 left-0 w-full h-16 bg-gradient-to-t from-neutral to-transparent"></div>
        <div class="hidden md:block absolute top-10 left-10 w-20 h-20 text-white/20">
            <i class="fa fa-heart text-[100px] transform -rotate-12"></i>
        </div>
        <div class="hidden md:block absolute bottom-10 right-10 w-20 h-20 text-white/20">
            <i class="fa fa-home text-[100px] transform rotate-12"></i>
        </div>
    </header>

    <!-- 主内容区 -->
    <main id="mainContent" class="container mx-auto py-12 px-4 hidden">
        <!-- 简介部分 -->
        <section class="mb-16 text-center max-w-3xl mx-auto">
            <h2 class="text-[clamp(1.5rem,3vw,2.5rem)] font-bold mb-6 text-dark">年轻人婚育现状分析</h2>
            <p class="text-gray-600 text-lg text-scale">
                近年来，年轻人结婚率与生育率的变化引发社会广泛关注。据统计，2024年结婚登记数较2013年峰值近乎腰斩，
                尽管出生率略有回升，但长期生育困境仍未缓解。微博平台上，#年轻人为什么不结婚了#等话题持续发酵，
                反映出公众对这一现象的深度关切。
            </p>
        </section>
        
        <!-- 图表展示区 -->
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-10">
            <!-- 1. 结婚率与生育率趋势图 -->
            <section class="bg-white rounded-2xl shadow-xl overflow-hidden card-hover">
                <div class="p-6 border-b">
                    <h3 class="text-xl font-bold flex items-center">
                        <i class="fa fa-line-chart text-primary mr-2"></i>
                        2014-2024年结婚率与生育率趋势
                    </h3>
                    <button class="details-btn text-secondary hover:text-primary text-sm mt-1" data-target="trendDetails">
                        <i class="fa fa-info-circle"></i> 查看详情
                    </button>
                </div>
                <div class="p-4 h-[500px]">
                    <div id="trendChart" class="w-full h-full"></div>
                </div>
                <div class="flex flex-col md:flex-row items-center p-6 bg-gray-50 border-t gap-6">
                    <img src="插画4办公.png" alt="婚育压力插画" class="w-full md:w-1/3 rounded-lg shadow-md">
                    <div id="trendDetails" class="details-content hidden w-full md:w-2/3">
                        <p class="text-gray-700 text-scale">
                            结婚率从2013年1346.9万对的峰值持续下降，2024年降至610.6万对，仅在2023年因疫情后补偿性需求
                            及"双春年"民俗影响短暂回升至768万对。
                        </p>
                        <p class="text-gray-700 mt-3 text-scale">
                            生育率方面，2024年虽较2023年增加52万出生人口，但人口总量仍减少139万人，长期积累的
                            生育困境尚未根本改变。
                        </p>
                    </div>
                </div>
            </section>
            
            <!-- 2. 情绪玫瑰图 -->
            <section class="bg-white rounded-2xl shadow-xl overflow-hidden card-hover">
                <div class="p-6 border-b">
                    <h3 class="text-xl font-bold flex items-center">
                        <i class="fa fa-smile-o text-primary mr-2"></i>
                        微博七大情绪分布
                    </h3>
                    <button class="details-btn text-secondary hover:text-primary text-sm mt-1" data-target="emotionDetails">
                        <i class="fa fa-info-circle"></i> 查看详情
                    </button>
                </div>
                <div class="p-4 h-[500px]">
                    <div id="emotionChart" class="w-full h-full"></div>
                </div>
                <div class="flex flex-col md:flex-row items-center p-6 bg-gray-50 border-t gap-6">
                    <img src="插画2没钱.png" alt="情绪相关插画" class="w-full md:w-1/3 rounded-lg shadow-md">
                    <div id="emotionDetails" class="details-content hidden w-full md:w-2/3">
                        <p class="text-gray-700 text-scale">
                            微博讨论中负面情绪占主导，"怒"(32.08%)和"恶"(26.83%)合计近60%，反映出公众对婚育环境的
                            不满与焦虑。
                        </p>
                        <p class="text-gray-700 mt-3 text-scale">
                            有网民直言："但凡多给母亲和宝宝多一些尊重与理解，也不至于生育率越来越低了"，
                            这类言论正是负面情绪的典型体现。
                        </p>
                    </div>
                </div>
            </section>
            
            <!-- 3. LDA主题分布饼图 -->
            <section class="bg-white rounded-2xl shadow-xl overflow-hidden card-hover">
                <div class="p-6 border-b">
                    <h3 class="text-xl font-bold flex items-center">
                        <i class="fa fa-tags text-primary mr-2"></i>
                        微博话题分布
                    </h3>
                    <button class="details-btn text-secondary hover:text-primary text-sm mt-1" data-target="topicDetails">
                        <i class="fa fa-info-circle"></i> 查看详情
                    </button>
                </div>
                <div class="p-4 h-[500px]">
                    <div id="topicChart" class="w-full h-full"></div>
                </div>
                <div class="flex flex-col md:flex-row items-center p-6 bg-gray-50 border-t gap-6">
                    <img src="插画3想象.png" alt="主题相关插画" class="w-full md:w-1/3 rounded-lg shadow-md">
                    <div id="topicDetails" class="details-content hidden w-full md:w-2/3">
                        <p class="text-gray-700 text-scale">
                            "社会观念与舆论压力"(40.33%)是最受关注的话题，反映出传统婚育观念与现代价值观的冲突，
                            以及"被催婚"等现实压力。
                        </p>
                        <p class="text-gray-700 mt-3 text-scale">
                            经济压力(21.3%)和婚恋家庭(22.2%)也是核心讨论点，"工资赶不上养娃开销"等言论
                            凸显了现实负担对婚育决策的影响。
                        </p>
                    </div>
                </div>
            </section>
            
            <!-- 4. 词云图 -->
            <section class="bg-white rounded-2xl shadow-xl overflow-hidden card-hover">
                <div class="p-6 border-b">
                    <h3 class="text-xl font-bold flex items-center">
                        <i class="fa fa-cloud text-primary mr-2"></i>
                        热门话题词云
                    </h3>
                    <button class="details-btn text-secondary hover:text-primary text-sm mt-1" data-target="wordcloudDetails">
                        <i class="fa fa-info-circle"></i> 查看详情
                    </button>
                </div>
                <div class="p-4 h-[500px] flex items-center justify-center">
                    <img src="年轻人结婚_词云图.png" alt="婚育话题词云图" class="max-w-full max-h-full object-contain" id="wordcloudImage">
                </div>
                <div class="flex flex-col md:flex-row items-center p-6 bg-gray-50 border-t gap-6">
                    <img src="卧室插画1.png" alt="词云相关插画" class="w-full md:w-1/3 rounded-lg shadow-md">
                    <div id="wordcloudDetails" class="details-content hidden w-full md:w-2/3">
                        <p class="text-gray-700 text-scale">
                            词云图中"不"、"单身"、"生育率低"等词汇突出，反映出年轻人对婚育的抵触倾向，
                            而"经济"、"压力"等词则揭示了背后的现实原因。
                        </p>
                        <p class="text-gray-700 mt-3 text-scale">
                            地域相关词汇如"上海"、"日本"、"韩国"的出现，体现了网民对不同地区婚育状况的对比与关注。
                        </p>
                    </div>
                </div>
            </section>
        </div>
        
        <!-- 语词共现图 -->
        <section class="mt-10 bg-white rounded-2xl shadow-xl overflow-hidden card-hover">
            <div class="p-6 border-b">
                <h3 class="text-xl font-bold flex items-center">
                    <i class="fa fa-sitemap text-primary mr-2"></i>
                    语词共现网络
                </h3>
                <button class="details-btn text-secondary hover:text-primary text-sm mt-1" data-target="cooccurrenceDetails">
                    <i class="fa fa-info-circle"></i> 查看详情
                </button>
            </div>
            <div class="p-4 h-[600px]">
                <div id="cooccurrenceChart" class="w-full h-full"></div>
            </div>
            <div class="flex flex-col md:flex-row items-center p-6 bg-gray-50 border-t gap-6">
                <div id="cooccurrenceDetails" class="details-content hidden w-full md:w-2/3">
                    <p class="text-gray-700 text-scale">
                        语词共现图显示"结婚"、"年轻人"、"生育率"等核心词高度关联，形成以人口结构影响为核心的讨论网络。
                        "经济"与"压力"、"工作"的强关联，凸显了物质条件对婚育选择的制约。
                    </p>
                    <p class="text-gray-700 mt-3 text-scale">
                        时间维度上，"2023"、"2024"等词的出现反映了对近年数据变化的关注；国际维度上，"日本"、"韩国"
                        等词则体现了对东亚共性婚育困境的探讨。
                    </p>
                </div>
                <img src="插画2没钱.png" alt="词频相关插画" class="w-full md:w-1/3 rounded-lg shadow-md">
            </div>
        </section>

        <!-- 互动区域 -->
        <section class="mt-16 bg-gradient-to-r from-primary/20 to-secondary/20 rounded-2xl p-8 shadow-lg">
            <h3 class="text-2xl font-bold text-center mb-8">你的婚姻观是什么？</h3>
            <div class="max-w-2xl mx-auto">
                <p class="text-center mb-6 text-gray-700">在你心中，婚姻是___________________</p>
                <input type="text" id="marriageInput" placeholder="请填写你对婚姻的看法..." 
                       class="w-full p-4 border border-gray-300 rounded-lg mb-6 focus:outline-none focus:ring-2 focus:ring-primary">
                <button id="generateBtn" class="bg-primary hover:bg-primary/80 text-white font-bold py-3 px-8 rounded-full shadow-md transition-all duration-300 flex items-center justify-center mx-auto">
                    <span>生成爱情寄语</span>
                    <i class="fa fa-heart ml-2"></i>
                </button>
                <div id="resultArea" class="mt-8 hidden">
                    <h4 class="text-xl font-semibold mb-4 text-center">给你的小确幸：</h4>
                    <div id="loveQuotes" class="bg-white p-6 rounded-lg shadow-inner text-center space-y-3"></div>
                </div>
            </div>
        </section>
    </main>

    <!-- 页脚 -->
    <footer class="bg-dark text-white py-10 mt-20">
        <div class="container mx-auto px-4 text-center">
            <p>数据来源：2024年5月-2025年6月微博讨论数据（共2260条）</p>
            <p class="mt-2 text-sm text-gray-400">© 2024 年轻人婚育数据可视化 | 基于《图文说明.docx》</p>
        </div>
    </footer>

    <script>
        // 花瓣特效实现
        function createPetals() {
            const petalsCount = 30;
            const petalShapes = [
                'https://cdn-icons-png.flaticon.com/128/1067/1067969.png',
                'https://cdn-icons-png.flaticon.com/128/1067/1067973.png',
                'https://cdn-icons-png.flaticon.com/128/542/542747.png'
            ];
            
            for (let i = 0; i < petalsCount; i++) {
                const petal = document.createElement('div');
                petal.classList.add('petal');
                
                // 随机属性
                const size = Math.random() * 20 + 10;
                const shape = petalShapes[Math.floor(Math.random() * petalShapes.length)];
                const left = Math.random() * 100;
                const delay = Math.random() * 3;
                const duration = Math.random() * 5 + 3;
                const rotation = Math.random() * 360;
                
                // 应用样式
                petal.style.width = `${size}px`;
                petal.style.height = `${size}px`;
                petal.style.left = `${left}%`;
                petal.style.top = '-5%';
                petal.style.backgroundImage = `url(${shape})`;
                petal.style.animation = `fall ${duration}s ease ${delay}s forwards`;
                petal.style.transform = `rotate(${rotation}deg)`;
                
                // 添加到页面
                document.body.appendChild(petal);
                
                // 动画结束后移除
                setTimeout(() => {
                    petal.remove();
                }, (delay + duration) * 1000);
            }
        }
        
        // 定义花瓣下落动画
        const style = document.createElement('style');
        style.textContent = `
            @keyframes fall {
                0% {
                    transform: translateY(-10px) rotate(0deg);
                    opacity: 0.8;
                }
                100% {
                    transform: translateY(100vh) rotate(360deg);
                    opacity: 0;
                }
            }
        `;
        document.head.appendChild(style);
        
        // 页面交互逻辑
        document.addEventListener('DOMContentLoaded', function() {
            // 探索按钮点击事件
            document.getElementById('exploreBtn').addEventListener('click', function() {
                createPetals();
                
                document.querySelector('header').classList.add('opacity-0', 'transition-opacity', 'duration-500');
                setTimeout(() => {
                    document.querySelector('header').style.display = 'none';
                    document.getElementById('mainContent').classList.remove('hidden');
                    // 初始化所有图表
                    initTrendChart();
                    initEmotionChart();
                    initTopicChart();
                    initCooccurrenceChart();
                    
                    window.scrollTo({ top: 0, behavior: 'smooth' });
                }, 500);
            });
            
            // 详情按钮点击事件
            document.querySelectorAll('.details-btn').forEach(button => {
                button.addEventListener('click', function() {
                    const targetId = this.getAttribute('data-target');
                    const content = document.getElementById(targetId);
                    content.classList.toggle('hidden');
                    
                    if (!content.classList.contains('hidden')) {
                        content.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
                    }
                });
            });

            // 爱情寄语生成功能
            document.getElementById('generateBtn').addEventListener('click', function() {
                const input = document.getElementById('marriageInput').value.trim();
                const resultArea = document.getElementById('resultArea');
                const quotesContainer = document.getElementById('loveQuotes');
                
                resultArea.classList.remove('hidden');
                quotesContainer.innerHTML = '';
                
                // 爱情句子库（结合文档中网民积极观点）
                const loveQuotes = [
                    "爱情不是寻找完美的人，而是学会用完美的眼光欣赏不完美的人 ✨",
                    "最好的婚姻，是并肩面对生活的琐碎，依然能看见彼此眼中的光 🌟",
                    "慢慢来，对的人会在对的时间出现，晚一点也没关系 ❤️",
                    "婚姻应该是避风港，而不是暴风雨本身 🏠",
                    "真正的陪伴，是经得起平淡流年的考验 🕰️"
                ];
                
                // 随机选择3句
                const shuffled = [...loveQuotes].sort(() => 0.5 - Math.random());
                const selected = shuffled.slice(0, 3);
                
                selected.forEach(quote => {
                    const p = document.createElement('p');
                    p.innerHTML = quote;
                    quotesContainer.appendChild(p);
                });
                
                // 显示用户输入
                if (input) {
                    const userInputP = document.createElement('p');
                    userInputP.classList.add('mt-4', 'pt-4', 'border-t', 'border-gray-200');
                    userInputP.innerHTML = `你说："婚姻是${input}" 🌈`;
                    quotesContainer.appendChild(userInputP);
                }
            });
        });
        
        // 1. 初始化结婚率与生育率趋势图
        function initTrendChart() {
            const chartDom = document.getElementById('trendChart');
            const myChart = echarts.init(chartDom);
            
            const option = {
                title: {
                    text: '2014-2024年结婚率与生育率趋势',
                    left: 'center',
                    textStyle: {
                        color: '#424242'
                    }
                },
                tooltip: {
                    trigger: 'axis',
                    axisPointer: {
                        type: 'shadow'
                    }
                },
                legend: {
                    data: ['结婚率（万对）', '生育率（‰）'],
                    top: 30,
                    right: 20
                },
                grid: {
                    left: '3%',
                    right: '4%',
                    bottom: '3%',
                    containLabel: true
                },
                xAxis: {
                    type: 'category',
                    data: ['2014年', '2015年', '2016年', '2017年', '2018年', '2019年', '2020年', '2021年', '2022年', '2023年', '2024年'],
                    axisLabel: {
                        rotate: 45
                    }
                },
                yAxis: [
                    {
                        type: 'value',
                        name: '结婚率（万对）',
                        nameTextStyle: {
                            color: '#F8BBD0'
                        },
                        axisLine: {
                            lineStyle: {
                                color: '#F8BBD0'
                            }
                        },
                        axisLabel: {
                            formatter: '{value}',
                            color: '#F8BBD0'
                        }
                    },
                    {
                        type: 'value',
                        name: '生育率（‰）',
                        nameTextStyle: {
                            color: '#BBDEFB'
                        },
                        axisLine: {
                            lineStyle: {
                                color: '#BBDEFB'
                            }
                        },
                        axisLabel: {
                            formatter: '{value}',
                            color: '#BBDEFB'
                        },
                        position: 'right'
                    }
                ],
                series: [
                    {
                        name: '结婚率（万对）',
                        type: 'line',
                        data: [1306.7, 1224.7, 1142.8, 1063.1, 1013.9, 927.3, 814.3, 763.6, 683.5, 768, 610.6],
                        symbol: 'circle',
                        symbolSize: 8,
                        lineStyle: {
                            width: 3,
                            color: '#F8BBD0'
                        },
                        itemStyle: {
                            color: '#F8BBD0'
                        },
                        emphasis: {
                            scale: true
                        }
                    },
                    {
                        name: '生育率（‰）',
                        type: 'line',
                        data: [12.37, 12.07, 12.95, 12.43, 10.94, 10.48, 8.52, 7.52, 6.77, 6.39, 6.0],
                        symbol: 'circle',
                        symbolSize: 8,
                        lineStyle: {
                            width: 3,
                            color: '#BBDEFB'
                        },
                        itemStyle: {
                            color: '#BBDEFB'
                        },
                        emphasis: {
                            scale: true
                        },
                        yAxisIndex: 1
                    }
                ]
            };
            
            myChart.setOption(option);
            window.addEventListener('resize', () => myChart.resize());
        }
        
        // 2. 初始化情绪玫瑰图
        function initEmotionChart() {
            const chartDom = document.getElementById('emotionChart');
            const myChart = echarts.init(chartDom);
            
            const option = {
                title: {
                    text: '微博七大情绪玫瑰图',
                    subtext: '数据来源：情感分析',
                    left: 'center',
                    textStyle: {
                        color: '#424242'
                    }
                },
                tooltip: {
                    trigger: 'item'
                },
                legend: {
                    orient: 'horizontal',
                    bottom: 10,
                    data: ['乐', '好', '怒', '哀', '惧', '恶', '惊']
                },
                series: [
                    {
                        name: '情绪分布',
                        type: 'pie',
                        radius: ['20%', '75%'],
                        center: ['50%', '50%'],
                        roseType: 'radius',
                        itemStyle: {
                            borderRadius: 8
                        },
                        data: [
                            { value: 3092, name: '乐', itemStyle: { color: '#C8E6C9' } },
                            { value: 3733, name: '好', itemStyle: { color: '#A5D6A7' } },
                            { value: 7300, name: '怒', itemStyle: { color: '#EF9A9A' } },
                            { value: 1748, name: '哀', itemStyle: { color: '#BBDEFB' } },
                            { value: 623, name: '惧', itemStyle: { color: '#90CAF9' } },
                            { value: 6105, name: '恶', itemStyle: { color: '#CE93D8' } },
                            { value: 156, name: '惊', itemStyle: { color: '#FFCCBC' } }
                        ],
                        label: {
                            formatter: '{b}: {d}%'
                        }
                    }
                ]
            };
            
            myChart.setOption(option);
            window.addEventListener('resize', () => myChart.resize());
        }
        
        // 3. 初始化LDA主题分布饼图
        function initTopicChart() {
            const chartDom = document.getElementById('topicChart');
            const myChart = echarts.init(chartDom);
            
            const option = {
                title: {
                    text: '微博LDA主题分布饼图',
                    left: 'center',
                    textStyle: {
                        color: '#424242'
                    }
                },
                tooltip: {
                    trigger: 'item'
                },
                legend: {
                    orient: 'vertical',
                    left: 10,
                    data: ['婚恋与家庭', '经济压力与生活', '自由与个人追求', '社会观念与舆论压力', '政策与生育措施']
                },
                series: [
                    {
                        name: '主题分布',
                        type: 'pie',
                        radius: ['30%', '70%'],
                        center: ['60%', '50%'],
                        avoidLabelOverlap: false,
                        itemStyle: {
                            borderRadius: 8,
                            borderColor: '#fff',
                            borderWidth: 2
                        },
                        label: {
                            show: false,
                            position: 'center'
                        },
                        emphasis: {
                            label: {
                                show: true,
                                fontSize: 16,
                                fontWeight: 'bold'
                            }
                        },
                        labelLine: {
                            show: true
                        },
                        data: [
                            { value: 490, name: '婚恋与家庭', itemStyle: { color: '#F8BBD0' } },
                            { value: 470, name: '经济压力与生活', itemStyle: { color: '#BBDEFB' } },
                            { value: 114, name: '自由与个人追求', itemStyle: { color: '#C8E6C9' } },
                            { value: 890, name: '社会观念与舆论压力', itemStyle: { color: '#FFE0B2' } },
                            { value: 243, name: '政策与生育措施', itemStyle: { color: '#CE93D8' } }
                        ]
                    }
                ]
            };
            
            myChart.setOption(option);
            window.addEventListener('resize', () => myChart.resize());
        }
        
        // 4. 初始化语词共现图（基于文档数据）
        function initCooccurrenceChart() {
            const chartDom = document.getElementById('cooccurrenceChart');
            const myChart = echarts.init(chartDom);
            
            // 基于文档中语词共现分析的数据
            const nodes = [
                { name: '结婚', value: 100, symbolSize: 50 },
                { name: '年轻人', value: 90, symbolSize: 45 },
                { name: '生育率', value: 85, symbolSize: 43 },
                { name: '经济', value: 75, symbolSize: 38 },
                { name: '压力', value: 70, symbolSize: 35 },
                { name: '社会观念', value: 80, symbolSize: 40 },
                { name: '家庭', value: 65, symbolSize: 33 },
                { name: '政策', value: 60, symbolSize: 30 },
                { name: '自由', value: 55, symbolSize: 28 },
                { name: '女性', value: 50, symbolSize: 25 },
                { name: '2024', value: 45, symbolSize: 23 },
                { name: '工作', value: 40, symbolSize: 20 },
                { name: '不', value: 65, symbolSize: 33 },
                { name: '单身', value: 50, symbolSize: 25 },
                { name: '日本', value: 35, symbolSize: 18 },
                { name: '韩国', value: 30, symbolSize: 15 },
                { name: '老龄化', value: 40, symbolSize: 20 }
            ];
            
            const links = [
                { source: '结婚', target: '年轻人', value: 5 },
                { source: '结婚', target: '生育率', value: 4 },
                { source: '年轻人', target: '生育率', value: 5 },
                { source: '年轻人', target: '经济', value: 3 },
                { source: '经济', target: '压力', value: 5 },
                { source: '结婚', target: '压力', value: 4 },
                { source: '结婚', target: '社会观念', value: 5 },
                { source: '社会观念', target: '家庭', value: 4 },
                { source: '生育率', target: '政策', value: 3 },
                { source: '年轻人', target: '自由', value: 4 },
                { source: '结婚', target: '女性', value: 3 },
                { source: '生育率', target: '2024', value: 3 },
                { source: '经济', target: '工作', value: 4 },
                { source: '年轻人', target: '不', value: 5 },
                { source: '不', target: '单身', value: 4 },
                { source: '生育率', target: '日本', value: 2 },
                { source: '日本', target: '韩国', value: 2 },
                { source: '生育率', target: '老龄化', value: 3 }
            ];
            
            const option = {
                title: {
                    text: '微博热门语词共现图',
                    left: 'center',
                    textStyle: {
                        color: '#424242'
                    }
                },
                tooltip: {},
                series: [
                    {
                        type: 'graph',
                        layout: 'force',
                        force: {
                            repulsion: 300,
                            edgeLength: 100
                        },
                        roam: true,
                        label: {
                            show: true,
                            fontSize: 14
                        },
                        lineStyle: {
                            color: 'source',
                            curveness: 0.3
                        },
                        emphasis: {
                            focus: 'adjacency',
                            lineStyle: {
                                width: 5
                            }
                        },
                        data: nodes,
                        links: links
                    }
                ]
            };
            
            myChart.setOption(option);
            window.addEventListener('resize', () => myChart.resize());
        }
    </script>
</body>
</html>
