<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>年轻人婚育 & 生活插画集</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/echarts@5.4.3/dist/echarts.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    
    <!-- 配置Tailwind主题适配插画色调 -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#F2D8C2', // 插画主色调
                        secondary: '#C9E4CA',
                        accent: '#BFD7EA',
                        neutral: '#FAF3E0',
                        dark: '#6B5B4B'
                    },
                    fontFamily: {
                        sans: ['Comic Sans MS', 'cursive', 'system-ui'], // 手写感字体
                    },
                }
            }
        }
    </script>
    
    <style type="text/tailwindcss">
        @layer base {
            body {
                background: url('data:image/svg+xml,%3Csvg width="100" height="100" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg"%3E%3Crect width="10" height="10" x="0" y="0" fill="%23F2D8C2" opacity="0.1"/%3E%3Crect width="10" height="10" x="10" y="10" fill="%23C9E4CA" opacity="0.1"/%3E%3Crect width="10" height="10" x="20" y="30" fill="%23BFD7EA" opacity="0.1"/%3E%3C/svg%3E') repeat;
            }
        }
        
        @layer utilities {
            .text-shadow-warm {
                text-shadow: 2px 2px 4px rgba(255,255,255,0.8), -1px -1px 2px rgba(0,0,0,0.1);
            }
            .parallax {
                background-attachment: fixed;
                background-size: cover;
                background-position: center;
            }
            .illustration-frame {
                border: 8px solid #FAF3E0;
                box-shadow: 0 10px 30px rgba(0,0,0,0.08);
                transition: all 0.3s ease;
            }
            .illustration-frame:hover {
                transform: rotate(1deg) scale(1.02);
                box-shadow: 0 15px 45px rgba(0,0,0,0.12);
            }
            .petal-fall {
                position: fixed;
                width: 15px;
                height: 20px;
                background: url('https://cdn-icons-png.flaticon.com/512/821/821907.png') no-repeat center;
                background-size: cover;
                pointer-events: none;
                z-index: 100;
            }
        }
    </style>
</head>
<body class="text-dark font-sans">
    <!-- 花瓣特效初始化 -->
    <script>
        setInterval(() => {
            const petal = document.createElement('div');
            petal.classList.add('petal-fall');
            petal.style.left = Math.random() * 100 + '%';
            petal.style.animation = `petalFall ${Math.random() * 5 + 5}s linear`;
            document.body.appendChild(petal);
            setTimeout(() => petal.remove(), 10000);
        }, 800);
    </script>
    <style>
        @keyframes petalFall {
            0% { transform: translateY(-20vh) rotate(0deg) scale(1); opacity: 0.8; }
            100% { transform: translateY(120vh) rotate(360deg) scale(0.8); opacity: 0; }
        }
    </style>

    <!-- 封面区 - 背景图 + 动态插画入口 -->
    <header class="relative h-screen flex items-center justify-center">
        <!-- 主背景图 -->
        <div class="absolute inset-0 bg-cover bg-center" style="background-image: url('背景图.png')">
            <div class="absolute inset-0 bg-gradient-to-r from-neutral/80 to-neutral/20"></div>
        </div>
        
        <!-- 插画动态加载效果 -->
        <div class="grid grid-cols-2 md:grid-cols-4 gap-4 relative z-10">
            <div class="bg-cover bg-center" style="background-image: url('卧室插画1.png')" data-target="section1"></div>
            <div class="bg-cover bg-center" style="background-image: url('插画2没钱.png')" data-target="section2"></div>
            <div class="bg-cover bg-center" style="background-image: url('插画3想象.png')" data-target="section3"></div>
            <div class="bg-cover bg-center" style="background-image: url('插画4办公.png')" data-target="section4"></div>
        </div>
        
        <!-- 标题动画 -->
        <h1 class="absolute top-10 left-10 text-4xl md:text-6xl text-white text-shadow-warm font-bold">
            <span class="block animate-bounce">婚育</span><span class="block animate-pulse">与生活</span>
        </h1>
    </header>

    <!-- 数据可视化区 - 原功能增强版 -->
    <section id="dataSection" class="container mx-auto py-16 px-4 hidden">
        <div class="bg-neutral/90 backdrop-blur-md rounded-xl p-8 mb-10">
            <h2 class="text-3xl text-center mb-6 text-shadow-warm">2024年婚育数据洞察</h2>
            <p class="text-center mb-8">用数据连接插画里的生活</p>
            
            <!-- 图表区保持原结构，新增GSAP动画 -->
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-10">
                <div id="trendChart" class="h-[500px]"></div>
                <div id="emotionChart" class="h-[500px]"></div>
                <div id="topicChart" class="h-[500px]"></div>
                <div class="flex items-center justify-center">
                    <img src="年轻人结婚_词云图.png" alt="词云" class="max-w-full max-h-full illustration-frame">
                </div>
            </div>
        </div>
    </section>

    <!-- 插画故事区1 - 卧室场景 -->
    <section id="section1" class="parallax py-24" style="background-image: url('卧室插画1.png')">
        <div class="container mx-auto px-4 text-center max-w-3xl">
            <h2 class="text-4xl mb-6 text-shadow-warm">睡前时光</h2>
            <p class="text-xl mb-8">那些关于未来的轻声细语，藏在亲子共读的每一页里</p>
            <button class="btn bg-primary text-dark px-6 py-3 rounded-full hover:bg-secondary">
                查看数据关联
                <i class="fa fa-angle-right ml-2"></i>
            </button>
        </div>
    </section>

    <!-- 插画故事区2 - 厨房场景 -->
    <section id="section2" class="parallax py-24" style="background-image: url('插画2没钱.png')">
        <div class="container mx-auto px-4 text-center max-w-3xl">
            <h2 class="text-4xl mb-6 text-shadow-warm">生活烟火</h2>
            <p class="text-xl mb-8">经济压力下的日常，也有属于自己的小确幸</p>
            <button class="btn bg-primary text-dark px-6 py-3 rounded-full hover:bg-secondary">
                探索经济影响
                <i class="fa fa-angle-right ml-2"></i>
            </button>
        </div>
    </section>

    <!-- 插画故事区3 - 想象场景 -->
    <section id="section3" class="parallax py-24" style="background-image: url('插画3想象.png')">
        <div class="container mx-auto px-4 text-center max-w-3xl">
            <h2 class="text-4xl mb-6 text-shadow-warm">梦想缝隙</h2>
            <p class="text-xl mb-8">烹饪时的片刻走神，是对自由最温柔的向往</p>
            <button class="btn bg-primary text-dark px-6 py-3 rounded-full hover:bg-secondary">
                解读生育意愿
                <i class="fa fa-angle-right ml-2"></i>
            </button>
        </div>
    </section>

    <!-- 插画故事区4 - 办公场景 -->
    <section id="section4" class="parallax py-24" style="background-image: url('插画4办公.png')">
        <div class="container mx-auto px-4 text-center max-w-3xl">
            <h2 class="text-4xl mb-6 text-shadow-warm">职场日常</h2>
            <p class="text-xl mb-8">办公室里的交流，藏着年轻人对婚育的真实态度</p>
            <button class="btn bg-primary text-dark px-6 py-3 rounded-full hover:bg-secondary">
                分析社会观念
                <i class="fa fa-angle-right ml-2"></i>
            </button>
        </div>
    </section>

    <!-- 页脚 -->
    <footer class="bg-dark text-white py-8 text-center">
        <p class="mb-2">数据×插画×交互 温暖呈现</p>
        <p class="text-sm">©2024 生活观察者 | 数据来源：官方统计 & 插画师授权</p>
    </footer>

    <script>
        // 插画点击交互（跳转到对应区块 + 数据区展开）
        document.querySelectorAll('header [data-target]').forEach(item => {
            item.addEventListener('click', () => {
                const target = item.getAttribute('data-target');
                gsap.to(window, { 
                    scrollTo: { y: `#${target}`, offsetY: 80 }, 
                    duration: 1.2, 
                    ease: 'power3.out' 
                });
                document.getElementById('dataSection').classList.remove('hidden');
            });
        });

        // 数据图表GSAP动画
        gsap.registerPlugin(ScrollTrigger);
        function initCharts() {
            // 趋势图
            const trendChart = echarts.init(document.getElementById('trendChart'));
            trendChart.setOption({ /* 保持原option */ });
            gsap.from('#trendChart', {
                opacity: 0, y: 50, duration: 1, 
                scrollTrigger: { trigger: '#trendChart', start: 'top 80%' }
            });

            // 情绪图
            const emotionChart = echarts.init(document.getElementById('emotionChart'));
            emotionChart.setOption({ /* 保持原option */ });
            gsap.from('#emotionChart', {
                opacity: 0, y: 50, duration: 1, 
                scrollTrigger: { trigger: '#emotionChart', start: 'top 80%' }
            });

            // 主题图
            const topicChart = echarts.init(document.getElementById('topicChart'));
            topicChart.setOption({ /* 保持原option */ });
            gsap.from('#topicChart', {
                opacity: 0, y: 50, duration: 1, 
                scrollTrigger: { trigger: '#topicChart', start: 'top 80%' }
            });
        }
        window.addEventListener('load', initCharts);

        // 背景图视差优化
        gsap.utils.toArray('.parallax').forEach(section => {
            ScrollTrigger.create({
                trigger: section,
                start: 'top center',
                end: 'bottom center',
                onUpdate: (self) => {
                    const progress = self.progress;
                    gsap.to(section, {
                        backgroundPosition: `center calc(50% - ${progress * 50}px)`,
                        duration: 0.1,
                        ease: 'power1.out'
                    });
                }
            });
        });
    </script>
</body>
</html>
