<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>年轻人婚育数据可视化</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/echarts@5.4.3/dist/echarts.min.js"></script>
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#F8BBD0',
                        secondary: '#BBDEFB',
                        accent: '#C8E6C9',
                        neutral: '#F5F5F5',
                        dark: '#424242'
                    },
                    fontFamily: {
                        sans: ['Inter', 'system-ui', 'sans-serif'],
                    },
                }
            }
        }
    </script>
    
    <style type="text/tailwindcss">
        @layer utilities {
            .slide-full {
                height: 100vh;
                scroll-snap-align: start;
            }
            .draggable {
                position: absolute;
                cursor: move;
                transition: box-shadow 0.3s ease;
            }
            .draggable:hover {
                box-shadow: 0 15px 30px rgba(0, 0, 0, 0.15);
            }
            .decor-element {
                position: absolute;
                pointer-events: none;
                z-index: 10;
            }
            .text-shadow {
                text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
            }
            .illustration-large {
                transition: transform 0.5s ease;
            }
            .illustration-large:hover {
                transform: scale(1.02);
            }
        }
    </style>
</head>
<body class="bg-neutral overflow-x-hidden font-sans text-dark">
    <!-- 花瓣装饰容器 -->
    <div id="petals-container" class="fixed top-0 left-0 w-full h-full pointer-events-none z-50"></div>

    <!-- 滑动容器 -->
    <div id="slider-container" class="scroll-snap-type y mandatory h-screen overflow-y-auto">
        <!-- 封面页 -->
        <section class="slide-full relative flex items-center justify-center bg-gradient-to-b from-primary/90 to-secondary/90">
            <div class="absolute inset-0 opacity-40">
                <img src="背景图.png" alt="封面背景" class="w-full h-full object-cover">
            </div>
            
            <!-- 装饰元素 -->
            <div class="decor-element top-1/4 left-10 text-white/30 text-6xl">
                <i class="fa fa-heart"></i>
            </div>
            <div class="decor-element bottom-1/4 right-10 text-white/30 text-6xl">
                <i class="fa fa-home"></i>
            </div>
            
            <div class="container mx-auto px-4 z-10 text-center">
                <h1 class="text-[clamp(2rem,8vw,4rem)] font-bold text-white mb-8 text-shadow">
                    微博婚姻观点可视化
                </h1>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8 max-w-3xl mx-auto">
                    <div class="bg-white/90 backdrop-blur-sm rounded-xl p-6 shadow-2xl transform transition-transform hover:scale-105">
                        <p class="text-gray-600 mb-2">2024年结婚登记数</p>
                        <p class="text-4xl font-bold text-primary">610.6 万对</p>
                        <p class="text-sm text-gray-500 mt-2">较2013年峰值近乎腰斩，结婚率4.3‰</p>
                    </div>
                    <div class="bg-white/90 backdrop-blur-sm rounded-xl p-6 shadow-2xl transform transition-transform hover:scale-105">
                        <p class="text-gray-600 mb-2">2024年人口出生率</p>
                        <p class="text-4xl font-bold text-secondary">6.77‰</p>
                        <p class="text-sm text-gray-500 mt-2">全年出生954万人，人口减少139万</p>
                    </div>
                </div>
                
                <p class="text-white text-xl mt-12 animate-bounce cursor-pointer" id="scrollDown">
                    向下滑动查看详情 <i class="fa fa-chevron-down ml-2"></i>
                </p>
            </div>
        </section>

        <!-- 1. 情绪玫瑰图页面 -->
        <section class="slide-full relative bg-neutral p-8">
            <!-- 装饰元素 -->
            <div class="decor-element top-20 left-5 text-primary/20 text-5xl rotate-12">
                <i class="fa fa-angry"></i>
            </div>
            <div class="decor-element bottom-20 right-5 text-secondary/20 text-5xl -rotate-12">
                <i class="fa fa-smile"></i>
            </div>
            
            <div class="max-w-7xl mx-auto relative h-full">
                <h2 class="text-3xl font-bold mb-6 text-dark text-center">微博七大情绪分布</h2>
                
                <!-- 可拖动图表窗口 -->
                <div class="draggable w-[80%] md:w-[60%] bg-white rounded-2xl shadow-xl p-4 top-1/4 left-1/4" id="emotionWindow">
                    <div class="h-[400px]">
                        <div id="emotionChart" class="w-full h-full"></div>
                    </div>
                </div>
                
                <!-- 说明文字 -->
                <div class="draggable w-[35%] md:w-[25%] bg-white/90 rounded-2xl shadow-lg p-6 top-1/2 right-10" id="emotionText">
                    <p class="text-gray-700 mb-3">
                        微博讨论中负面情绪占主导，"怒"(32.08%)和"恶"(26.83%)合计近60%，反映出公众对婚育环境的不满与焦虑。
                    </p>
                    <p class="text-gray-700">
                        有网民直言："但凡多给母亲和宝宝多一些尊重与理解，也不至于生育率越来越低了"，这类言论正是负面情绪的典型体现。
                    </p>
                </div>
                
                <!-- 大尺寸插画 -->
                <div class="absolute bottom-10 left-10 w-[40%] md:w-[30%]">
                    <img src="插画2没钱.png" alt="情绪相关插画" class="illustration-large w-full h-auto rounded-xl shadow-lg">
                </div>
            </div>
        </section>

        <!-- 2. LDA主题分布页面 -->
        <section class="slide-full relative bg-neutral p-8">
            <!-- 装饰元素 -->
            <div class="decor-element top-10 right-10 text-primary/20 text-5xl">
                <i class="fa fa-tags"></i>
            </div>
            <div class="decor-element bottom-10 left-10 text-secondary/20 text-5xl">
                <i class="fa fa-comments"></i>
            </div>
            
            <div class="max-w-7xl mx-auto relative h-full">
                <h2 class="text-3xl font-bold mb-6 text-dark text-center">微博LDA主题分布</h2>
                
                <!-- 可拖动图表窗口 -->
                <div class="draggable w-[80%] md:w-[60%] bg-white rounded-2xl shadow-xl p-4 top-1/4 right-1/4" id="topicWindow">
                    <div class="h-[400px]">
                        <div id="topicChart" class="w-full h-full"></div>
                    </div>
                </div>
                
                <!-- 说明文字 -->
                <div class="draggable w-[35%] md:w-[25%] bg-white/90 rounded-2xl shadow-lg p-6 top-1/2 left-10" id="topicText">
                    <p class="text-gray-700 mb-3">
                        "社会观念与舆论压力"(40.33%)是最受关注的话题，反映出传统婚育观念与现代价值观的冲突，以及"被催婚"等现实压力。
                    </p>
                    <p class="text-gray-700">
                        经济压力(21.3%)和婚恋家庭(22.2%)也是核心讨论点，"工资赶不上养娃开销"等言论凸显了现实负担对婚育决策的影响。
                    </p>
                </div>
                
                <!-- 大尺寸插画 -->
                <div class="absolute bottom-10 right-10 w-[40%] md:w-[30%]">
                    <img src="插画3想象.png" alt="主题相关插画" class="illustration-large w-full h-auto rounded-xl shadow-lg">
                </div>
            </div>
        </section>

        <!-- 3. 婚育率趋势页面 -->
        <section class="slide-full relative bg-neutral p-8">
            <!-- 装饰元素 -->
            <div class="decor-element top-20 right-5 text-primary/20 text-5xl -rotate-12">
                <i class="fa fa-line-chart"></i>
            </div>
            <div class="decor-element bottom-20 left-5 text-secondary/20 text-5xl rotate-12">
                <i class="fa fa-calendar"></i>
            </div>
            
            <div class="max-w-7xl mx-auto relative h-full">
                <h2 class="text-3xl font-bold mb-6 text-dark text-center">2014-2024年婚育率趋势</h2>
                
                <!-- 可拖动图表窗口 -->
                <div class="draggable w-[80%] md:w-[60%] bg-white rounded-2xl shadow-xl p-4 top-1/4 left-1/4" id="trendWindow">
                    <div class="h-[400px]">
                        <div id="trendChart" class="w-full h-full"></div>
                    </div>
                </div>
                
                <!-- 说明文字 -->
                <div class="draggable w-[35%] md:w-[25%] bg-white/90 rounded-2xl shadow-lg p-6 top-1/2 right-10" id="trendText">
                    <p class="text-gray-700 mb-3">
                        结婚率从2013年1346.9万对的峰值持续下降，2024年降至610.6万对，仅在2023年因疫情后补偿性需求及"双春年"民俗影响短暂回升至768万对。
                    </p>
                    <p class="text-gray-700">
                        生育率方面，2024年虽较2023年增加52万出生人口，但人口总量仍减少139万人，长期积累的生育困境尚未根本改变。
                    </p>
                </div>
                
                <!-- 大尺寸插画 -->
                <div class="absolute bottom-10 left-10 w-[40%] md:w-[30%]">
                    <img src="插画4办公.png" alt="婚育压力插画" class="illustration-large w-full h-auto rounded-xl shadow-lg">
                </div>
            </div>
        </section>

        <!-- 4. 词云图页面 -->
        <section class="slide-full relative bg-neutral p-8">
            <!-- 装饰元素 -->
            <div class="decor-element top-10 left-10 text-primary/20 text-5xl rotate-12">
                <i class="fa fa-cloud"></i>
            </div>
            <div class="decor-element bottom-10 right-10 text-secondary/20 text-5xl -rotate-12">
                <i class="fa fa-font"></i>
            </div>
            
            <div class="max-w-7xl mx-auto relative h-full">
                <h2 class="text-3xl font-bold mb-6 text-dark text-center">热门话题词云</h2>
                
                <!-- 可拖动图表窗口 -->
                <div class="draggable w-[80%] md:w-[60%] bg-white rounded-2xl shadow-xl p-4 top-1/4 right-1/4" id="wordcloudWindow">
                    <div class="h-[400px] flex items-center justify-center">
                        <img src="年轻人结婚_词云图.png" alt="婚育话题词云图" class="max-w-full max-h-full object-contain">
                    </div>
                </div>
                
                <!-- 说明文字 -->
                <div class="draggable w-[35%] md:w-[25%] bg-white/90 rounded-2xl shadow-lg p-6 top-1/2 left-10" id="wordcloudText">
                    <p class="text-gray-700 mb-3">
                        词云图中"不"、"单身"、"生育率低"等词汇突出，反映出年轻人对婚育的抵触倾向，而"经济"、"压力"等词则揭示了背后的现实原因。
                    </p>
                    <p class="text-gray-700">
                        地域相关词汇如"上海"、"日本"、"韩国"的出现，体现了网民对不同地区婚育状况的对比与关注。
                    </p>
                </div>
                
                <!-- 大尺寸插画 -->
                <div class="absolute bottom-10 right-10 w-[40%] md:w-[30%]">
                    <img src="卧室插画1.png" alt="词云相关插画" class="illustration-large w-full h-auto rounded-xl shadow-lg">
                </div>
            </div>
        </section>

        <!-- 5. 语词共现图页面 -->
        <section class="slide-full relative bg-neutral p-8">
            <!-- 装饰元素 -->
            <div class="decor-element top-20 right-5 text-primary/20 text-5xl">
                <i class="fa fa-sitemap"></i>
            </div>
            <div class="decor-element bottom-20 left-5 text-secondary/20 text-5xl">
                <i class="fa fa-link"></i>
            </div>
            
            <div class="max-w-7xl mx-auto relative h-full">
                <h2 class="text-3xl font-bold mb-6 text-dark text-center">语词共现网络</h2>
                
                <!-- 可拖动图表窗口 -->
                <div class="draggable w-[80%] md:w-[60%] bg-white rounded-2xl shadow-xl p-4 top-1/4 left-1/4" id="cooccurrenceWindow">
                    <div class="h-[400px]">
                        <div id="cooccurrenceChart" class="w-full h-full"></div>
                    </div>
                </div>
                
                <!-- 说明文字 -->
                <div class="draggable w-[35%] md:w-[25%] bg-white/90 rounded-2xl shadow-lg p-6 top-1/2 right-10" id="cooccurrenceText">
                    <p class="text-gray-700 mb-3">
                        语词共现图显示"结婚"、"年轻人"、"生育率"等核心词高度关联，形成以人口结构影响为核心的讨论网络。"经济"与"压力"、"工作"的强关联，凸显了物质条件对婚育选择的制约。
                    </p>
                    <p class="text-gray-700">
                        时间维度上，"2023"、"2024"等词的出现反映了对近年数据变化的关注；国际维度上，"日本"、"韩国"等词则体现了对东亚共性婚育困境的探讨。
                    </p>
                </div>
                
                <!-- 大尺寸插画 -->
                <div class="absolute bottom-10 left-10 w-[40%] md:w-[30%]">
                    <img src="插画2没钱.png" alt="词频相关插画" class="illustration-large w-full h-auto rounded-xl shadow-lg">
                </div>
            </div>
        </section>

        <!-- 互动页面 -->
        <section class="slide-full relative flex flex-col items-center justify-center bg-gradient-to-b from-primary/20 to-secondary/20 p-8">
            <h2 class="text-3xl font-bold mb-10 text-dark text-center">你的婚姻观是什么？</h2>
            
            <div class="w-full max-w-2xl bg-white rounded-2xl shadow-xl p-8">
                <p class="text-center mb-6 text-gray-700 text-lg">在你心中，婚姻是___________________</p>
                
                <input type="text" id="marriageInput" placeholder="请填写你对婚姻的看法..." 
                       class="w-full p-4 border border-gray-300 rounded-lg mb-6 focus:outline-none focus:ring-2 focus:ring-primary">
                
                <button id="generateBtn" class="bg-primary hover:bg-primary/80 text-white font-bold py-3 px-8 rounded-full shadow-md transition-all duration-300 flex items-center justify-center mx-auto">
                    <span>生成爱情寄语</span>
                    <i class="fa fa-heart ml-2"></i>
                </button>
                
                <div id="resultArea" class="mt-8 hidden">
                    <h4 class="text-xl font-semibold mb-4 text-center">给你的小确幸：</h4>
                    <div id="loveQuotes" class="bg-neutral p-6 rounded-lg shadow-inner text-center space-y-3"></div>
                </div>
            </div>
            
            <!-- 装饰元素 -->
            <div class="decor-element top-20 left-10 text-primary/20 text-5xl">
                <i class="fa fa-heart"></i>
            </div>
            <div class="decor-element bottom-20 right-10 text-secondary/20 text-5xl">
                <i class="fa fa-star"></i>
            </div>
        </section>
    </div>

    <script>
        // 花瓣装饰效果
        function createPetals() {
            const container = document.getElementById('petals-container');
            const count = 20;
            const shapes = ['fa-heart', 'fa-star', 'fa-flower'];
            
            for (let i = 0; i < count; i++) {
                const petal = document.createElement('div');
                petal.className = `fa ${shapes[Math.floor(Math.random() * shapes.length)]} text-primary/30`;
                petal.style.position = 'absolute';
                petal.style.top = `-${Math.random() * 100 + 20}px`;
                petal.style.left = `${Math.random() * 100}vw`;
                petal.style.fontSize = `${Math.random() * 20 + 10}px`;
                petal.style.animation = `fall ${Math.random() * 15 + 10}s linear infinite`;
                petal.style.transform = `rotate(${Math.random() * 360}deg)`;
                container.appendChild(petal);
            }
        }
        
        // 定义下落动画
        const style = document.createElement('style');
        style.textContent = `
            @keyframes fall {
                0% { transform: translateY(-50px) rotate(0deg); opacity: 0.6; }
                100% { transform: translateY(100vh) rotate(360deg); opacity: 0; }
            }
        `;
        document.head.appendChild(style);
        
        // 窗口拖拽功能
        function makeDraggable(element) {
            let pos1 = 0, pos2 = 0, pos3 = 0, pos4 = 0;
            
            element.onmousedown = dragMouseDown;
            
            function dragMouseDown(e) {
                e = e || window.event;
                e.preventDefault();
                pos3 = e.clientX;
                pos4 = e.clientY;
                document.onmouseup = closeDragElement;
                document.onmousemove = elementDrag;
            }
            
            function elementDrag(e) {
                e = e || window.event;
                e.preventDefault();
                pos1 = pos3 - e.clientX;
                pos2 = pos4 - e.clientY;
                pos3 = e.clientX;
                pos4 = e.clientY;
                
                // 限制在视口内
                const newTop = element.offsetTop - pos2;
                const newLeft = element.offsetLeft - pos1;
                const viewportWidth = window.innerWidth;
                const viewportHeight = window.innerHeight;
                
                if (newTop > 0 && newTop < viewportHeight - element.offsetHeight) {
                    element.style.top = newTop + "px";
                }
                if (newLeft > 0 && newLeft < viewportWidth - element.offsetWidth) {
                    element.style.left = newLeft + "px";
                }
            }
            
            function closeDragElement() {
                document.onmouseup = null;
                document.onmousemove = null;
            }
        }
        
        // 初始化图表
        function initCharts() {
            // 情绪玫瑰图
            const emotionChart = echarts.init(document.getElementById('emotionChart'));
            emotionChart.setOption({
                title: { text: '微博七大情绪玫瑰图', left: 'center' },
                tooltip: { trigger: 'item' },
                legend: { orient: 'horizontal', bottom: 10, data: ['乐', '好', '怒', '哀', '惧', '恶', '惊'] },
                series: [{
                    name: '情绪分布',
                    type: 'pie',
                    radius: ['20%', '75%'],
                    center: ['50%', '50%'],
                    roseType: 'radius',
                    data: [
                        { value: 3092, name: '乐', itemStyle: { color: '#C8E6C9' } },
                        { value: 3733, name: '好', itemStyle: { color: '#A5D6A7' } },
                        { value: 7300, name: '怒', itemStyle: { color: '#EF9A9A' } },
                        { value: 1748, name: '哀', itemStyle: { color: '#BBDEFB' } },
                        { value: 623, name: '惧', itemStyle: { color: '#90CAF9' } },
                        { value: 6105, name: '恶', itemStyle: { color: '#CE93D8' } },
                        { value: 156, name: '惊', itemStyle: { color: '#FFCCBC' } }
                    ],
                    label: { formatter: '{b}: {d}%' }
                }]
            });
            
            // 主题分布饼图
            const topicChart = echarts.init(document.getElementById('topicChart'));
            topicChart.setOption({
                title: { text: '微博LDA主题分布', left: 'center' },
                tooltip: { trigger: 'item' },
                legend: { orient: 'vertical', left: 10, data: ['婚恋与家庭', '经济压力与生活', '自由与个人追求', '社会观念与舆论压力', '政策与生育措施'] },
                series: [{
                    name: '主题分布',
                    type: 'pie',
                    radius: ['30%', '70%'],
                    data: [
                        { value: 490, name: '婚恋与家庭', itemStyle: { color: '#F8BBD0' } },
                        { value: 470, name: '经济压力与生活', itemStyle: { color: '#BBDEFB' } },
                        { value: 114, name: '自由与个人追求', itemStyle: { color: '#C8E6C9' } },
                        { value: 890, name: '社会观念与舆论压力', itemStyle: { color: '#FFE0B2' } },
                        { value: 243, name: '政策与生育措施', itemStyle: { color: '#CE93D8' } }
                    ]
                }]
            });
            
            // 婚育率趋势图
            const trendChart = echarts.init(document.getElementById('trendChart'));
            trendChart.setOption({
                title: { text: '2014-2024年婚育率趋势', left: 'center' },
                tooltip: { trigger: 'axis' },
                legend: { data: ['结婚率（万对）', '生育率（‰）'], top: 30 },
                xAxis: { type: 'category', data: ['2014', '2015', '2016', '2017', '2018', '2019', '2020', '2021', '2022', '2023', '2024'] },
                yAxis: [
                    { type: 'value', name: '结婚率（万对）', nameTextStyle: { color: '#F8BBD0' } },
                    { type: 'value', name: '生育率（‰）', nameTextStyle: { color: '#BBDEFB' }, position: 'right' }
                ],
                series: [
                    { name: '结婚率（万对）', type: 'line', data: [1306.7, 1224.7, 1142.8, 1063.1, 1013.9, 927.3, 814.3, 763.6, 683.5, 768, 610.6], lineStyle: { color: '#F8BBD0' } },
                    { name: '生育率（‰）', type: 'line', data: [12.37, 12.07, 12.95, 12.43, 10.94, 10.48, 8.52, 7.52, 6.77, 6.39, 6.0], lineStyle: { color: '#BBDEFB' }, yAxisIndex: 1 }
                ]
            });
            
            // 语词共现图
            const cooccurrenceChart = echarts.init(document.getElementById('cooccurrenceChart'));
            cooccurrenceChart.setOption({
                title: { text: '微博热门语词共现图', left: 'center' },
                series: [{
                    type: 'graph',
                    layout: 'force',
                    force: { repulsion: 300, edgeLength: 100 },
                    roam: true,
                    label: { show: true },
                    data: [
                        { name: '结婚', symbolSize: 50 },
                        { name: '年轻人', symbolSize: 45 },
                        { name: '生育率', symbolSize: 43 },
                        { name: '经济', symbolSize: 38 },
                        { name: '压力', symbolSize: 35 },
                        { name: '社会观念', symbolSize: 40 }
                    ],
                    links: [
                        { source: '结婚', target: '年轻人' },
                        { source: '结婚', target: '生育率' },
                        { source: '年轻人', target: '经济' },
                        { source: '经济', target: '压力' },
                        { source: '结婚', target: '社会观念' }
                    ]
                }]
            });
            
            // 窗口大小变化时重绘图表
            window.addEventListener('resize', () => {
                emotionChart.resize();
                topicChart.resize();
                trendChart.resize();
                cooccurrenceChart.resize();
            });
        }
        
        // 爱情寄语生成
        function initInteraction() {
            document.getElementById('generateBtn').addEventListener('click', () => {
                const input = document.getElementById('marriageInput').value.trim();
                const resultArea = document.getElementById('resultArea');
                const quotesContainer = document.getElementById('loveQuotes');
                
                resultArea.classList.remove('hidden');
                quotesContainer.innerHTML = '';
                
                const loveQuotes = [
                    "爱情不是寻找完美的人，而是学会用完美的眼光欣赏不完美的人 ✨",
                    "最好的婚姻，是并肩面对生活的琐碎，依然能看见彼此眼中的光 🌟",
                    "慢慢来，对的人会在对的时间出现，晚一点也没关系 ❤️"
                ];
                
                loveQuotes.forEach(quote => {
                    const p = document.createElement('p');
                    p.textContent = quote;
                    quotesContainer.appendChild(p);
                });
                
                if (input) {
                    const userP = document.createElement('p');
                    userP.textContent = `你说："婚姻是${input}"`;
                    userP.className = 'mt-4 pt-4 border-t border-gray-200';
                    quotesContainer.appendChild(userP);
                }
            });
        }
        
        // 页面加载完成后初始化
        document.addEventListener('DOMContentLoaded', () => {
            // 创建花瓣装饰
            createPetals();
            
            // 初始化所有可拖动窗口
            document.querySelectorAll('.draggable').forEach(el => makeDraggable(el));
            
            // 初始化图表
            initCharts();
            
            // 初始化互动功能
            initInteraction();
            
            // 封面页滑动提示
            document.getElementById('scrollDown').addEventListener('click', () => {
                window.scrollTo({ top: window.innerHeight, behavior: 'smooth' });
            });
        });
    </script>
</body>
</html>
