<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>年轻人婚育数据可视化</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/echarts@5.4.3/dist/echarts.min.js"></script>
    
    <!-- 配置Tailwind自定义主题 -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#F8BBD0',
                        secondary: '#BBDEFB',
                        accent: '#C8E6C9',
                        neutral: '#F5F5F5',
                        dark: '#424242'
                    },
                    fontFamily: {
                        sans: ['Inter', 'system-ui', 'sans-serif'],
                    },
                }
            }
        }
    </script>
    
    <style type="text/tailwindcss">
        @layer utilities {
            .content-auto {
                content-visibility: auto;
            }
            .text-shadow {
                text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);
            }
            .card-hover {
                transition: all 0.3s ease;
            }
            .card-hover:hover {
                transform: translateY(-5px);
                box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
            }
            .illustration-bg {
                background-image: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23f8bbd0' fill-opacity='0.15'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
            }
            /* 花瓣特效样式 */
            .petal {
                position: absolute;
                background-size: contain;
                background-repeat: no-repeat;
                pointer-events: none;
                z-index: 50;
                opacity: 0;
            }
            /* 背景图优化 */
            .cover-bg {
                filter: brightness(1.2); /* 提高亮度 */
                object-fit: cover; /* 裁剪适配 */
            }
        }
    </style>
</head>
<body class="bg-neutral illustration-bg text-dark">
    <!-- 顶部数据展示区 -->
    <header class="relative overflow-hidden bg-gradient-to-r from-primary/80 to-secondary/80 py-16 md:py-24 px-4">
        <!-- 封面背景图（优化后） -->
        <div class="absolute inset-0 overflow-hidden opacity-50"> <!-- 降低透明度至50% -->
            <img src="背景图.png" alt="封面背景" class="w-full h-full cover-bg">
        </div>
        
        <div class="container mx-auto relative z-10 flex flex-col md:flex-row items-center justify-between">
            <div class="text-center md:text-left mb-8 md:mb-0">
                <h1 class="text-[clamp(1.8rem,5vw,3rem)] font-bold text-white mb-4 text-shadow">
                    2024年婚育数据
                </h1>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6 max-w-lg mx-auto md:mx-0">
                    <div class="bg-white/90 backdrop-blur-sm rounded-xl p-6 shadow-lg">
                        <p class="text-gray-500 mb-1">结婚登记数</p>
                        <p class="text-3xl font-bold text-primary">610.6 万对</p>
                        <p class="text-sm text-gray-500 mt-2">结婚率约 4.3‰</p>
                    </div>
                    <div class="bg-white/90 backdrop-blur-sm rounded-xl p-6 shadow-lg">
                        <p class="text-gray-500 mb-1">人口出生率</p>
                        <p class="text-3xl font-bold text-secondary">6.77‰</p>
                        <p class="text-sm text-gray-500 mt-2">全年出生 954 万人</p>
                    </div>
                </div>
            </div>
            
            <div class="text-center md:text-right">
                <p class="text-white text-xl md:text-2xl mb-6 text-shadow">你期待婚姻吗？</p>
                <button id="exploreBtn" class="bg-white text-primary hover:bg-primary hover:text-white font-bold py-3 px-8 rounded-full shadow-lg transition-all duration-300 flex items-center justify-center mx-auto md:mx-0">
                    <span>点击查看详情</span>
                    <i class="fa fa-arrow-right ml-2"></i>
                </button>
            </div>
        </div>
        
        <!-- 装饰元素 -->
        <div class="absolute bottom-0 left-0 w-full h-16 bg-gradient-to-t from-neutral to-transparent"></div>
        <div class="hidden md:block absolute top-10 left-10 w-20 h-20 text-white/20">
            <i class="fa fa-heart text-[100px] transform -rotate-12"></i>
        </div>
        <div class="hidden md:block absolute bottom-10 right-10 w-20 h-20 text-white/20">
            <i class="fa fa-home text-[100px] transform rotate-12"></i>
        </div>
    </header>

    <!-- 主内容区 -->
    <main id="mainContent" class="container mx-auto py-12 px-4 hidden">
        <!-- 内容同之前保持一致 -->
        <!-- 简介部分 -->
        <section class="mb-16 text-center max-w-3xl mx-auto">
            <h2 class="text-[clamp(1.5rem,3vw,2.5rem)] font-bold mb-6 text-dark">年轻人婚育现状分析</h2>
            <p class="text-gray-600 text-lg">
                近年来，年轻人结婚率与生育率的变化引发社会广泛关注。本页面整合了微博平台相关讨论数据，
                从情绪倾向、话题分布等多个维度，为您呈现公众对这一社会现象的真实看法。
            </p>
        </section>
        
        <!-- 图表展示区（省略重复代码，保持原结构） -->
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-10">
            <!-- 1. 结婚率与生育率趋势图 -->
            <section class="bg-white rounded-2xl shadow-xl overflow-hidden card-hover">
                <!-- 内容同之前 -->
            </section>
            
            <!-- 2. 情绪玫瑰图 -->
            <section class="bg-white rounded-2xl shadow-xl overflow-hidden card-hover">
                <!-- 内容同之前 -->
            </section>
            
            <!-- 3. LDA主题分布饼图 -->
            <section class="bg-white rounded-2xl shadow-xl overflow-hidden card-hover">
                <!-- 内容同之前 -->
            </section>
            
            <!-- 4. 词云图 -->
            <section class="bg-white rounded-2xl shadow-xl overflow-hidden card-hover">
                <!-- 内容同之前 -->
            </section>
        </div>
        
        <!-- 语词共现图 -->
        <section class="mt-10 bg-white rounded-2xl shadow-xl overflow-hidden card-hover">
            <!-- 内容同之前 -->
        </section>
    </main>

    <!-- 页脚 -->
    <footer class="bg-dark text-white py-10 mt-20">
        <div class="container mx-auto px-4 text-center">
            <p>数据来源：微博平台讨论数据及官方统计数据</p>
            <p class="mt-2 text-sm text-gray-400">© 2024 年轻人婚育数据可视化项目</p>
        </div>
    </footer>

    <script>
        // 花瓣特效实现
        function createPetals() {
            const petalsCount = 30; // 花瓣数量
            const petalShapes = [
                'https://cdn-icons-png.flaticon.com/128/1067/1067969.png', // 粉色花瓣
                'https://cdn-icons-png.flaticon.com/128/1067/1067973.png', // 白色花瓣
                'https://cdn-icons-png.flaticon.com/128/542/542747.png'   // 淡紫色花瓣
            ];
            
            for (let i = 0; i < petalsCount; i++) {
                const petal = document.createElement('div');
                petal.classList.add('petal');
                
                // 随机属性
                const size = Math.random() * 20 + 10; // 10-30px
                const shape = petalShapes[Math.floor(Math.random() * petalShapes.length)];
                const left = Math.random() * 100; // 0-100%
                const delay = Math.random() * 3; // 0-3s 延迟
                const duration = Math.random() * 5 + 3; // 3-8s 动画时长
                
                // 应用样式
                petal.style.width = `${size}px`;
                petal.style.height = `${size}px`;
                petal.style.left = `${left}%`;
                petal.style.top = '-5%';
                petal.style.backgroundImage = `url(${shape})`;
                petal.style.animation = `fall ${duration}s ease ${delay}s forwards`;
                
                // 添加到页面
                document.body.appendChild(petal);
                
                // 动画结束后移除
                setTimeout(() => {
                    petal.remove();
                }, (delay + duration) * 1000);
            }
        }
        
        // 定义花瓣下落动画
        const style = document.createElement('style');
        style.textContent = `
            @keyframes fall {
                0% {
                    transform: translateY(-10px) rotate(0deg);
                    opacity: 0.8;
                }
                100% {
                    transform: translateY(100vh) rotate(360deg);
                    opacity: 0;
                }
            }
        `;
        document.head.appendChild(style);
        
        // 页面交互逻辑
        document.addEventListener('DOMContentLoaded', function() {
            // 探索按钮点击事件（添加花瓣特效）
            document.getElementById('exploreBtn').addEventListener('click', function() {
                // 触发花瓣特效
                createPetals();
                
                // 原有页面切换逻辑
                document.querySelector('header').classList.add('opacity-0', 'transition-opacity', 'duration-500');
                setTimeout(() => {
                    document.querySelector('header').style.display = 'none';
                    document.getElementById('mainContent').classList.remove('hidden');
                    // 初始化所有图表
                    initTrendChart();
                    initEmotionChart();
                    initTopicChart();
                    initCooccurrenceChart();
                    
                    // 平滑滚动到页面顶部
                    window.scrollTo({ top: 0, behavior: 'smooth' });
                }, 500);
            });
            
            // 详情按钮点击事件（保持原逻辑）
            document.querySelectorAll('.details-btn').forEach(button => {
                button.addEventListener('click', function() {
                    const targetId = this.getAttribute('data-target');
                    const content = document.getElementById(targetId);
                    content.classList.toggle('hidden');
                    if (!content.classList.contains('hidden')) {
                        content.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
                    }
                });
            });
        });
        
        // 图表初始化函数（保持原逻辑）
        function initTrendChart() { /* 原代码 */ }
        function initEmotionChart() { /* 原代码 */ }
        function initTopicChart() { /* 原代码 */ }
        function initCooccurrenceChart() { /* 原代码 */ }
    </script>
</body>
</html>
