<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>微博婚姻观点核心图表</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/echarts@5.4.3/dist/echarts.min.js"></script>
    <style>
        body { margin: 0; background: #FFF5F5; }
        .chart-container { 
            width: 100%; 
            height: 80vh; 
            padding: 20px; 
            box-sizing: border-box; 
        }
        .chart-title { 
            text-align: center; 
            color: #5A4B40; 
            margin: 0; 
            padding: 20px 0; 
        }
    </style>
</head>
<body>
    <!-- 1. 情绪玫瑰图（基于文档32.08%怒、26.83%恶等数据） -->
    <h2 class="chart-title">微博七大情绪分布（数据来源：《图文说明.docx》）</h2>
    <div class="chart-container">
        <div id="emotionChart" style="width:100%;height:100%;"></div>
    </div>

    <!-- 2. LDA主题分布（基于文档40.33%社会观念等数据） -->
    <h2 class="chart-title">微博LDA主题分布（数据来源：《图文说明.docx》）</h2>
    <div class="chart-container">
        <div id="topicChart" style="width:100%;height:100%;"></div>
    </div>

    <!-- 3. 趋势图（基于文档2014-2024年结婚率、生育率数据） -->
    <h2 class="chart-title">2014-2024年结婚率与生育率趋势（数据来源：《图文说明.docx》）</h2>
    <div class="chart-container">
        <div id="trendChart" style="width:100%;height:100%;"></div>
    </div>

    <script>
        // 初始化情绪玫瑰图（文档核心情绪数据）
        const emotionChart = echarts.init(document.getElementById('emotionChart'));
        emotionChart.setOption({
            tooltip: { trigger: 'item' },
            legend: { 
                orient: 'horizontal', 
                bottom: 0, 
                data: ['乐', '好', '怒', '哀', '惧', '恶', '惊'] 
            },
            series: [{
                type: 'pie',
                roseType: 'radius',
                radius: ['20%', '90%'], // 最大化占比
                data: [
                    { value: 3092, name: '乐' },
                    { value: 3733, name: '好' },
                    { value: 7300, name: '怒' }, // 32.08%
                    { value: 1748, name: '哀' },
                    { value: 623, name: '惧' },
                    { value: 6105, name: '恶' }, // 26.83%
                    { value: 156, name: '惊' }
                ]
            }]
        });

        // 初始化LDA主题图（文档主题占比数据）
        const topicChart = echarts.init(document.getElementById('topicChart'));
        topicChart.setOption({
            tooltip: { trigger: 'item' },
            legend: { 
                orient: 'vertical', 
                left: 10, 
                data: ['社会观念与舆论压力', '经济压力与生活', '婚恋与家庭', '政策与生育措施', '自由与个人追求'] 
            },
            series: [{
                type: 'pie',
                radius: ['30%', '90%'], // 最大化占比
                data: [
                    { value: 890, name: '社会观念与舆论压力' }, // 40.33%
                    { value: 470, name: '经济压力与生活' }, // 21.3%
                    { value: 490, name: '婚恋与家庭' }, // 22.2%
                    { value: 243, name: '政策与生育措施' }, // 11.01%
                    { value: 114, name: '自由与个人追求' } // 5.16%
                ]
            }]
        });

        // 初始化趋势图（文档年度数据）
        const trendChart = echarts.init(document.getElementById('trendChart'));
        trendChart.setOption({
            tooltip: { trigger: 'axis' },
            legend: { data: ['结婚率（万对）', '生育率（‰）'] },
            xAxis: { type: 'category', data: ['2014', '2015', '2016', '2017', '2018', '2019', '2020', '2021', '2022', '2023', '2024'] },
            yAxis: [
                { type: 'value', name: '结婚率（万对）' },
                { type: 'value', name: '生育率（‰）', position: 'right' }
            ],
            series: [
                { 
                    name: '结婚率（万对）', 
                    type: 'line', 
                    data: [1306.7, 1224.7, 1142.8, 1063.1, 1013.9, 927.3, 814.3, 763.6, 683.5, 768, 610.6],
                    lineStyle: { width: 4 }
                },
                { 
                    name: '生育率（‰）', 
                    type: 'line', 
                    data: [12.37, 12.07, 12.95, 12.43, 10.94, 10.48, 8.52, 7.52, 6.77, 6.39, 6.0],
                    lineStyle: { width: 4 },
                    yAxisIndex: 1
                }
            ]
        });

        // 响应窗口大小
        window.addEventListener('resize', () => {
            emotionChart.resize();
            topicChart.resize();
            trendChart.resize();
        });
    </script>
</body>
</html>
